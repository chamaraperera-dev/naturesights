{"mappings":";;;;;;AAAA,oBAAoB;ACApB;AAEO,MAAM,4CAAQ,OAAO,OAAe,WAAqB;IAC9D,IAAI;QACF,MAAM,MAAM,MAAM,CAAA,GAAA,sCAAI,EAAE;YACtB,QAAQ;YACR,KAAK;YACL,MAAM;uBAAE;0BAAO;YAAS;QAC1B;QACA,MAAM,OAAO,IAAI,IAAI;QACrB,IAAI,KAAK,MAAM,KAAK,WAAW;YAC7B,MAAM;YACN,OAAO,UAAU,CAAC,IAAM;gBACtB,SAAS,MAAM,CAAC;YAClB,GAAG;QACL,CAAC;IACH,EAAE,OAAO,KAAU;QACjB,MAAM,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;IACjC;AACF;;ADlBA;AEDA;AAQO,MAAM,4CAAa,CAAC,YAA0B;IACnD,CAAA,GAAA,uDAAO,EAAE,WAAW,GAClB;IACF,MAAM,MAAM,IAAI,CAAA,GAAA,uDAAO,EAAE,GAAG,CAAC;QAC3B,oDAAoD;QACpD,WAAW;QACX,OAAO;QACP,oCAAoC;QACpC,YAAY,KAAK;IAKnB;IAEA,MAAM,SAAS,IAAI,CAAA,GAAA,uDAAO,EAAE,YAAY;IAExC,UAAU,OAAO,CAAC,CAAC,MAAQ;QACzB,iBAAiB;QACjB,MAAM,KAAK,SAAS,aAAa,CAAC;QAClC,GAAG,SAAS,GAAG;QACf,aAAa;QACb,uEAAuE;QACvE,IAAI,CAAA,GAAA,uDAAQ,AAAD,EAAE,MAAM,CAAC;YAAE,SAAS;YAAI,QAAQ;QAAS,GACjD,SAAS,CAAC,IAAI,WAAW,EAEzB,KAAK,CAAC;QACT,YAAY;QACZ,IAAI,CAAA,GAAA,uDAAQ,AAAD,EAAE,KAAK,CAAC;YAAE,QAAQ;QAAG,GAC7B,SAAS,CAAC,IAAI,WAAW,EACzB,OAAO,CAAC,CAAC,OAAO,EAAE,IAAI,GAAG,CAAC,EAAE,EAAE,IAAI,WAAW,CAAC,IAAI,CAAC,EACnD,KAAK,CAAC;QAET,gDAAgD;QAChD,OAAO,MAAM,CAAC,IAAI,WAAW;IAC/B;IAEA,IAAI,SAAS,CAAC,QAAQ;QACpB,yBAAyB;QACzB,SAAS;YACP,KAAK;YACL,QAAQ;YACR,MAAM;YACN,OAAO;QACT;IACF;AACF;;;AFnDA,SAAS,aAAa,CAAC,UAAU,iBAAiB,UAAU,CAAC,IAAM;IACjE,EAAE,cAAc;IAChB,MAAM,QAAS,SAAS,cAAc,CAAC,UAA+B;IACtE,MAAM,WAAY,SAAS,cAAc,CAAC,aACtC;IACJ,CAAA,GAAA,yCAAK,AAAD,EAAE,OAAO;AACf;AAOA,MAAM,mCAAa,SAAS,cAAc,CAAC;AAE3C,MAAM,sCAAgB,kCAAY,QAAQ,SAAS;AAEnD,IAAI,CAAC,oCAAc,CAAC,qCAClB,MAAM,IAAI,MAAM,0CAA0C;AAE5D,MAAM,kCAAwB,KAAK,KAAK,CAAC;AAEzC,CAAA,GAAA,yCAAU,AAAD,EAAE","sources":["src/public/js/index.ts","src/public/js/login.ts","src/public/js/mapbox.ts"],"sourcesContent":["// import 'core-js';\r\nimport { login } from './login';\r\nimport { displayMap } from './mapbox';\r\ndocument.querySelector('.form')?.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n  const email = (document.getElementById('email') as HTMLInputElement)?.value;\r\n  const password = (document.getElementById('password') as HTMLInputElement)\r\n    ?.value;\r\n  login(email, password);\r\n});\r\n\r\ninterface Location {\r\n  day: number;\r\n  description: string;\r\n  coordinates: [number, number];\r\n}\r\nconst mapElement = document.getElementById('map');\r\n\r\nconst locationsData = mapElement?.dataset.locations;\r\n\r\nif (!mapElement || !locationsData) {\r\n  throw new Error('Map element or location data not found');\r\n}\r\nconst locations: Location[] = JSON.parse(locationsData);\r\n\r\ndisplayMap(locations);\r\n","import axios from 'axios';\r\n\r\nexport const login = async (email: string, password: string) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: 'http://localhost:3000/api/v1/users/login',\r\n      data: { email, password },\r\n    });\r\n    const data = res.data;\r\n    if (data.status === 'success') {\r\n      alert('Logged in successfully!');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err: any) {\r\n    alert(err.response.data.message);\r\n  }\r\n};\r\n","import mapboxgl from 'mapbox-gl/dist/mapbox-gl.js';\r\n\r\ninterface Location {\r\n  day: number;\r\n  description: string;\r\n  coordinates: [number, number];\r\n}\r\n\r\nexport const displayMap = (locations: Location[]) => {\r\n  mapboxgl.accessToken =\r\n    'pk.eyJ1IjoiY2hhbXBlcnp1bWFiIiwiYSI6ImNsZXd2MHJ3dDA4enkzcW53d3Ftb2c5emQifQ.ebKa_ILJ6g3078eO8zBFpg';\r\n  const map = new mapboxgl.Map({\r\n    //There should be a div with id map in the html file\r\n    container: 'map',\r\n    style: 'mapbox://styles/champerzumab/clex9oui7000s01mg2qk7k9nh',\r\n    //Disable map zoom when using scroll\r\n    scrollZoom: false,\r\n    //Longitude first then latitude\r\n    /*   center: [-118.113491, 34.111745],\r\n    zoom: 10,\r\n    interactive: false, */\r\n  });\r\n\r\n  const bounds = new mapboxgl.LngLatBounds();\r\n\r\n  locations.forEach((loc) => {\r\n    // Create  marker\r\n    const el = document.createElement('div');\r\n    el.className = 'marker';\r\n    // Add marker\r\n    //anchor: 'bottom' is to make the marker point to the bottom of the pin\r\n    new mapboxgl.Marker({ element: el, anchor: 'bottom' })\r\n      .setLngLat(loc.coordinates)\r\n\r\n      .addTo(map);\r\n    // Add popup\r\n    new mapboxgl.Popup({ offset: 30 })\r\n      .setLngLat(loc.coordinates)\r\n      .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n      .addTo(map);\r\n\r\n    // Extend map bounds to include current location\r\n    bounds.extend(loc.coordinates);\r\n  });\r\n\r\n  map.fitBounds(bounds, {\r\n    // Add margins to the map\r\n    padding: {\r\n      top: 200,\r\n      bottom: 150,\r\n      left: 200,\r\n      right: 200,\r\n    },\r\n  });\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}